<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Gator Hoops</title>
  <meta name="theme-color" content="#0021A5"/>
  <link rel="stylesheet" href="style.css?v=60"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <a href="#main" class="skip">Skip to content</a>

  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <div class="brand">
        <img class="brandmark" alt="UF Gators" src="https://upload.wikimedia.org/wikipedia/commons/7/7d/Florida_Gators_gator_logo.svg">
        <h1>Gator Hoops</h1>
      </div>
      <div class="controls">
        <input id="usernameInput" class="input" placeholder="Display name for picks" />
        <button id="refreshBtn" type="button" class="btn small" title="Refresh">‚Üª</button>
        <button id="themeBtn" type="button" class="btn small" title="Toggle theme">‚òæ</button>
      </div>
    </div>
  </header>

  <div class="brands" aria-hidden="true">
    <img alt="UF" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/7/7d/Florida_Gators_gator_logo.svg">
    <img alt="SEC" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/6/65/Southeastern_Conference_logo.svg">
    <img alt="NCAA" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/4/43/NCAA_logo.svg">
  </div>

  <section class="hero" aria-label="Highlights">
    <div class="carousel">
      <img id="heroImg" alt="Florida Gators Highlights"/>
      <div class="shade" aria-hidden="true"></div>
      <div class="caption">
        <div>
          <div class="badge">Go Gators üêä</div>
          <div class="kicker">Prev/Next for more photos</div>
        </div>
        <div class="car-ctrls">
          <button id="prevBtn" class="pill gray" type="button"><span class="pill-dot"></span>Prev</button>
          <button id="nextBtn" class="pill gray" type="button"><span class="pill-dot"></span>Next</button>
        </div>
      </div>
    </div>
  </section>

  <nav class="tabs" role="tablist" aria-label="Sections">
    <button type="button" class="tab" id="tab-schedule" role="tab" aria-controls="panel-schedule" aria-selected="true">Schedule</button>
    <button type="button" class="tab" id="tab-roster"   role="tab" aria-controls="panel-roster"   aria-selected="false">Roster</button>
    <button type="button" class="tab" id="tab-props"    role="tab" aria-controls="panel-props"    aria-selected="false">Props (Fun)</button>
    <button type="button" class="tab" id="tab-stats"    role="tab" aria-controls="panel-stats"    aria-selected="false">Stats</button>
    <button type="button" class="tab" id="tab-news"     role="tab" aria-controls="panel-news"     aria-selected="false">News</button>
    <button type="button" class="tab" id="tab-tickets"  role="tab" aria-controls="panel-tickets"  aria-selected="false">Tickets</button>
  </nav>

  <main id="main" tabindex="-1">
    <!-- Schedule -->
    <section id="panel-schedule" class="section active" role="tabpanel" aria-labelledby="tab-schedule">
      <button id="addAllBtn" class="allcal-btn" type="button">Add All Games to Calendar</button>
      <div id="nextGame" class="next-wrap"></div>
      <div id="scheduleList" class="grid">
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
      </div>
    </section>

    <!-- Roster -->
    <section id="panel-roster" class="section" role="tabpanel" aria-labelledby="tab-roster">
      <div class="note">2025‚Äì26 roster with reliable headshots. If any image fails, it auto-falls back.</div>
      <div id="rosterList" class="grid">
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
      </div>
    </section>

    <!-- Props -->
    <section id="panel-props" class="section" role="tabpanel" aria-labelledby="tab-props">
      <div class="card" style="display:flex;flex-direction:column;gap:12px">
        <div class="row">
          <strong>Player Props (for fun)</strong>
          <span class="note">Lines = last 6 games avg (fallback: season/role). Pick Over/Under and save.</span>
        </div>

        <div class="row" style="align-items:flex-start">
          <label style="min-width:240px;flex:1">Players:
            <select id="propPlayerSelect" multiple size="10" style="min-width:260px"></select>
          </label>
          <div class="col">
            <button id="genPropsBtn" class="btn primary" type="button">Generate Lines</button>
            <button id="savePicksBtn" class="btn" type="button">Save My Picks</button>
          </div>
        </div>
      </div>

      <div id="propsList" class="grid" style="margin-top:10px"></div>

      <div class="card">
        <h3 style="margin:0 0 8px 0">Leaderboard (for fun)</h3>
        <div id="lbWrap" class="grid"></div>
      </div>
    </section>

    <!-- Stats -->
    <section id="panel-stats" class="section" role="tabpanel" aria-labelledby="tab-stats">
      <div class="grid">
        <div class="card">
          <h3 style="margin:0 0 10px 0">Leaders</h3>
          <div id="leaders" class="statgrid"></div>
        </div>
        <div class="card" style="min-height:300px">
          <h3 style="margin:0 0 10px 0">Team Points by Game</h3>
          <canvas id="teamPtsChart" height="260"></canvas>
        </div>
      </div>
    </section>

    <!-- News -->
    <section id="panel-news" class="section" role="tabpanel" aria-labelledby="tab-news">
      <div id="newsList" class="grid"></div>
    </section>

    <!-- Tickets -->
    <section id="panel-tickets" class="section" role="tabpanel" aria-labelledby="tab-tickets">
      <div class="grid" id="ticketsList"></div>
      <div class="card">
        <h3 style="margin:0 0 8px 0">Popular Marketplaces</h3>
        <div class="grid">
          <a class="card" target="_blank" rel="noopener" href="https://seatgeek.com/search?search=Florida%20Gators%20Basketball">SeatGeek ‚Äî Florida Gators Basketball</a>
          <a class="card" target="_blank" rel="noopener" href="https://www.ticketmaster.com/search?q=Florida%20Gators%20Basketball">Ticketmaster ‚Äî Florida Gators Basketball</a>
          <a class="card" target="_blank" rel="noopener" href="https://www.vividseats.com/search?search=Florida%20Gators%20Basketball">Vivid Seats ‚Äî Florida Gators Basketball</a>
        </div>
      </div>
    </section>
  </main>

  <div id="toast" role="status" aria-live="polite"></div>
  <script src="app.js?v=60"></script>
</body>
</html>
